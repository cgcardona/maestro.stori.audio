{# macros/commit.html — reusable commit row building block.
   Import with:
     {% from "musehub/macros/commit.html" import commit_row %}
   Then call:
     {{ commit_row(commit, base_url=base_url) }}
   Requires the ``shortsha`` and ``fmtrelative`` Jinja2 filters to be registered
   (see maestro/api/routes/musehub/jinja2_filters.py).
#}

{% macro commit_row(commit, base_url) %}
<div class="commit-row">
  <a href="{{ base_url }}/commits/{{ commit.commitId }}" class="commit-message">
    {{ commit.message | truncate(72, True, '…') }}
  </a>
  <div class="commit-meta">
    <code class="sha">{{ commit.commitId | shortsha }}</code>
    <span>{{ commit.author }}</span>
    <span>{{ commit.timestamp | fmtrelative }}</span>
  </div>
</div>
{% endmacro %}
