{# macros/pagination.html — reusable page navigation building block.
   Renders nothing when total_pages <= 1 to avoid cluttering single-page views.
   Import with:
     {% from "musehub/macros/pagination.html" import pagination %}
   Then call:
     {{ pagination(page=page, total_pages=total_pages, url=request.url.path) }}
   Optional kwargs:
     extra_params — dict of additional query-string key/value pairs to carry
                    through page links (e.g. {'q': query, 'state': 'open'})
#}

{% macro pagination(page, total_pages, url, extra_params={}) %}
{% if total_pages > 1 %}
<nav class="pagination" aria-label="Pagination">
  {% if page > 1 %}
    <a class="btn btn-ghost btn-sm" href="{{ url }}?page={{ page - 1 }}{% for k,v in extra_params.items() %}&{{ k }}={{ v }}{% endfor %}">← Prev</a>
  {% endif %}
  <span class="pagination-info">Page {{ page }} of {{ total_pages }}</span>
  {% if page < total_pages %}
    <a class="btn btn-ghost btn-sm" href="{{ url }}?page={{ page + 1 }}{% for k,v in extra_params.items() %}&{{ k }}={{ v }}{% endfor %}">Next →</a>
  {% endif %}
</nav>
{% endif %}
{% endmacro %}
