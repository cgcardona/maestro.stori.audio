{#
  Repo navigation partial — persistent header card + tab strip.

  Required Jinja2 variables (passed from ui.py → page template):
    owner       str  — repo owner username
    repo_slug   str  — repo slug
    base_url    str  — canonical UI base URL (/musehub/ui/{owner}/{repo_slug})
    current_page str — active tab key:
                       commits | graph | pulls | issues | releases |
                       sessions | timeline | analysis | credits | search | insights

  The repo_id is set as a JS global by each page's {% block page_data %}.
  Nav count badges (open PRs, open issues) are loaded client-side via
  loadNavCounts() defined in musehub.js so the HTML route handlers stay
  unauthenticated.
#}

<div class="repo-header" id="repo-header">
  <div class="repo-header-inner">
    <div class="repo-header-identity">
      <a href="/musehub/ui/{{ owner }}" class="repo-header-owner">{{ owner }}</a>
      <span class="repo-header-sep">/</span>
      <a href="{{ base_url }}" class="repo-header-name">{{ repo_slug }}</a>
      <span class="badge repo-visibility-badge" id="nav-visibility-badge">…</span>
    </div>
    <div class="repo-header-meta" id="nav-meta">
      <span class="nav-meta-pill" id="nav-key" style="display:none"></span>
      <span class="nav-meta-pill" id="nav-bpm" style="display:none"></span>
      <span class="nav-meta-tags" id="nav-tags"></span>
    </div>
    <div class="repo-header-actions">
      <button class="btn btn-secondary btn-sm" id="nav-star-btn"
              onclick="toggleStar()" style="display:none">
        <span id="nav-star-icon">☆</span>
        <span id="nav-star-count">0</span>
      </button>
    </div>
  </div>
</div>

{% include "musehub/partials/repo_tabs.html" %}
